{"version": "0.1", "tests": [{"id": "functional.test_toolbox.TestForTool_smudgeplot.test_tool_000000", "has_data": true, "data": {"tool_id": "smudgeplot", "tool_version": "0.2.3+galaxy+1", "test_index": 0, "time_seconds": 15.418362379074097, "inputs": {"reads": {"src": "hda", "id": "2891970512fa2d5a"}}, "job": {"command_line": "jellyfish count -m 21 -t 4 -s 1M -o 1_counts.jf -C '/tmp/tmpvbhb8sdc/files/2/1/b/dataset_21bdd2ab-bffd-4e8d-8972-f9b24e665fbd.dat' && jellyfish histo 1_counts.jf > 1_kmer_k21.hist  && L=2 && U=150  && jellyfish dump -c -L $L -U $U 1_counts.jf > 2_dump.jf  && smudgeplot.py hetkmers -o 2_kmer_pairs 2_dump.jf && smudgeplot.py plot 2_kmer_pairs_coverages.tsv -o my_genome", "command_version": "", "create_time": "2022-02-20T22:36:07.521074", "dependencies": [], "exit_code": 0, "external_id": "47271", "galaxy_version": "21.09", "history_id": "2891970512fa2d5a", "id": "5729865256bc2525", "inputs": {"reads": {"id": "2891970512fa2d5a", "src": "hda", "uuid": "21bdd2ab-bffd-4e8d-8972-f9b24e665fbd"}}, "job_messages": [], "job_metrics": [], "job_stderr": "", "job_stdout": "", "model_class": "Job", "output_collections": {}, "outputs": {"genome_summary": {"id": "8155e4b4bf1581ff", "src": "hda", "uuid": "39535a8c-1f53-4452-b068-c39eb9255d87"}, "smudgeplot": {"id": "5729865256bc2525", "src": "hda", "uuid": "ca234221-44a0-42cf-9256-fe23e73d8d16"}, "smudgeplot_log": {"id": "54f2a3a23292eb07", "src": "hda", "uuid": "9774842d-bbb3-4125-8f60-9dc318aa0c38"}}, "params": {"__input_ext": "\"fastq\"", "chromInfo": "\"/tmp/tmpvbhb8sdc/galaxy-dev/tool-data/shared/ucsc/chrom/?.len\"", "dbkey": "\"?\""}, "state": "ok", "stderr": "Running smudgeplot v0.2.2\nTask: hetkmers\nKmers and coverages loaded.\nKmer pairs identified.\nKmers in unique kmer pairs identified.\n2_kmer_pairs_families.tsv and 2_kmer_pairs_coverages.tsv files saved.\n\nDone!\nRunning smudgeplot v0.2.2\nTask: plot\nCalling: smudgeplot_plot.R -i \"2_kmer_pairs_coverages.tsv\" -o \"my_genome\" -k 21\nError: package or namespace load failed for \u2018viridis\u2019 in dyn.load(file, DLLpath = DLLpath, ...):\n unable to load shared object '/home/cameron/.local/lib/R/rlang/libs/rlang.so':\n  /home/cameron/.local/lib/R/rlang/libs/rlang.so: undefined symbol: R_removeVarFromFrame\nError: package \u2018viridis\u2019 could not be loaded\nIn addition: Warning messages:\n1: package \u2018viridis\u2019 was built under R version 4.1.0 \n2: package \u2018viridisLite\u2019 was built under R version 4.1.0 \nExecution halted\n\nDone!\n", "stdout": "", "tool_id": "smudgeplot", "tool_stderr": "Running smudgeplot v0.2.2\nTask: hetkmers\nKmers and coverages loaded.\nKmer pairs identified.\nKmers in unique kmer pairs identified.\n2_kmer_pairs_families.tsv and 2_kmer_pairs_coverages.tsv files saved.\n\nDone!\nRunning smudgeplot v0.2.2\nTask: plot\nCalling: smudgeplot_plot.R -i \"2_kmer_pairs_coverages.tsv\" -o \"my_genome\" -k 21\nError: package or namespace load failed for \u2018viridis\u2019 in dyn.load(file, DLLpath = DLLpath, ...):\n unable to load shared object '/home/cameron/.local/lib/R/rlang/libs/rlang.so':\n  /home/cameron/.local/lib/R/rlang/libs/rlang.so: undefined symbol: R_removeVarFromFrame\nError: package \u2018viridis\u2019 could not be loaded\nIn addition: Warning messages:\n1: package \u2018viridis\u2019 was built under R version 4.1.0 \n2: package \u2018viridisLite\u2019 was built under R version 4.1.0 \nExecution halted\n\nDone!\n", "tool_stdout": "", "traceback": null, "update_time": "2022-02-20T22:36:14.276204", "user_email": "test@bx.psu.edu"}, "output_problems": ["Output smudgeplot:  different than expected, difference (using diff):\n( /tmp/tmp1z4k0wwemy_genome_smudgeplot.png v. /tmp/tmpkgffxe6pmy_genome_smudgeplot.png )\nBinary data detected, not displaying diff"], "status": "failure", "problem_type": "galaxy.tool_util.verify.interactor.JobOutputsError", "problem_log": "Traceback (most recent call last):\n  File \"/home/cameron/.local/programs/miniconda3/envs/planemo/lib/python3.9/unittest/case.py\", line 59, in testPartExecutor\n    yield\n  File \"/home/cameron/.local/programs/miniconda3/envs/planemo/lib/python3.9/unittest/case.py\", line 592, in run\n    self._callTestMethod(testMethod)\n  File \"/home/cameron/.local/programs/miniconda3/envs/planemo/lib/python3.9/unittest/case.py\", line 550, in _callTestMethod\n    method()\n  File \"/tmp/tmpvbhb8sdc/galaxy-dev/test/functional/test_toolbox.py\", line 98, in test_tool\n    self.do_it(tool_version=tool_version, test_index=test_index)\n  File \"/tmp/tmpvbhb8sdc/galaxy-dev/test/functional/test_toolbox.py\", line 35, in do_it\n    verify_tool(tool_id, self.galaxy_interactor, resource_parameters=resource_parameters, test_index=test_index, tool_version=tool_version, register_job_data=register_job_data)\n  File \"/tmp/tmpvbhb8sdc/galaxy-dev/lib/galaxy/tool_util/verify/interactor.py\", line 1131, in verify_tool\n    raise e\n  File \"/tmp/tmpvbhb8sdc/galaxy-dev/lib/galaxy/tool_util/verify/interactor.py\", line 1127, in verify_tool\n    job_stdio = _verify_outputs(testdef, test_history, jobs, data_list, data_collection_list, galaxy_interactor, quiet=quiet)\n  File \"/tmp/tmpvbhb8sdc/galaxy-dev/lib/galaxy/tool_util/verify/interactor.py\", line 1301, in _verify_outputs\n    raise JobOutputsError(found_exceptions, job_stdio)\ngalaxy.tool_util.verify.interactor.JobOutputsError: Output smudgeplot:  different than expected, difference (using diff):\n( /tmp/tmp1z4k0wwemy_genome_smudgeplot.png v. /tmp/tmpkgffxe6pmy_genome_smudgeplot.png )\nBinary data detected, not displaying diff\n"}}], "summary": {"num_tests": 1, "num_failures": 1, "num_errors": 0, "num_skips": 0}, "exit_code": 1}